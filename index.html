<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fire of Life ‚Äî –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Manrope:wght@200;300;400;500;600&display=swap" rel="stylesheet">

    <style>
        /* FONTS - –ü—É—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø–∞–ø–∫—É images */
        @font-face {
            font-family: 'Vela Sans';
            src: url('./images/VelaSans-Regular.ttf') format('truetype');
            font-weight: 400;
        }
        @font-face {
            font-family: 'Vela Sans';
            src: url('./images/VelaSans-Bold.ttf') format('truetype');
            font-weight: 700;
        }

        body { 
            font-family: 'Vela Sans', 'Manrope', sans-serif;
            margin: 0; padding: 0; background-color: #0f0e17; overflow: hidden; 
            -webkit-tap-highlight-color: transparent;
        }
        
        h1, h2, h3, h4, .serif { font-family: 'Cormorant Garamond', serif; letter-spacing: 0.02em; }
        
        /* –£–º–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –≤–∏—Å—è—á–∏—Ö —Å—Ç—Ä–æ–∫ */
        .text-pretty { text-wrap: pretty; }
        .text-balance { text-wrap: balance; }
        
        /* Animations */
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes zoom-slow { from { transform: scale(1); } to { transform: scale(1.08); } }
        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.12); opacity: 1; } }
        @keyframes rise { 
            0% { transform: translateY(100vh) scale(0.5); opacity: 0; } 
            20% { opacity: 0.5; } 
            100% { transform: translateY(-20vh) scale(1.2); opacity: 0; } 
        }
        @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes spin-reverse { from { transform: rotate(360deg); } to { transform: rotate(0deg); } }
        
        /* –ú—è–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —ç–∫—Ä–∞–Ω–µ */
        @keyframes pulse-glow { 
            0%, 100% { transform: scale(1); opacity: 0.2; } 
            50% { transform: scale(1.15); opacity: 0.45; } 
        }

        .animate-fade-in-up { animation: fade-in-up 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) both; }
        .animate-zoom { animation: zoom-slow 20s ease-in-out infinite alternate; }
        .animate-breathe { animation: breathe 5s ease-in-out infinite; }
        .animate-rise { animation: rise 15s infinite linear; }
        .animate-spin-slow { animation: spin-slow 20s linear infinite; }
        .animate-spin-reverse { animation: spin-reverse 25s linear infinite; }
        .animate-pulse-glow { animation: pulse-glow 4s ease-in-out infinite; }
        
        .glass-card { backdrop-filter: blur(20px); transition: all 0.3s ease; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }

        .mandala-container {
            position: relative; border-radius: 50%; overflow: hidden; aspect-ratio: 1/1;
            transition: all 0.5s ease; cursor: pointer;
            border: 2px solid transparent;
        }
        .mandala-container:active { transform: scale(0.96); }

        .mandala-glow-light:hover {
            box-shadow: 0 0 40px rgba(158, 42, 43, 0.5);
            border-color: rgba(158, 42, 43, 0.6);
            transform: scale(1.02);
        }

        .mandala-glow-dark:hover {
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.5);
            border-color: rgba(212, 175, 55, 0.6);
            transform: scale(1.02);
        }

        .btn-primary { position: relative; overflow: hidden; transition: all 0.3s ease; }
        .btn-primary:active { transform: scale(0.98); }

        .logo-img { max-width: 220px; height: auto; object-fit: contain; }
        
        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- –£–ú–ù–´–ô –¢–ò–ü–û–ì–†–ê–§ ---
        const formatText = (str) => {
            if (!str) return '';
            return str.replace(/(^|\s)(–≤|–±–µ–∑|–¥–æ|–¥–ª—è|–∑–∞|—á–µ—Ä–µ–∑|–Ω–∞–¥|–ø–æ|–∏–∑|—É|–æ–∫–æ–ª–æ|–ø–æ–¥|–æ|–ø—Ä–æ|–Ω–∞|–∫|–ø–µ—Ä–µ–¥|–ø—Ä–∏|—Å|–º–µ–∂–¥—É|–∞|–∏|–¥–∞|–Ω–æ|–∏–ª–∏|–ª–∏–±–æ|—á—Ç–æ|–∫–∞–∫|–µ—Å–ª–∏|—Ç–æ|–Ω–µ|–Ω–∏|–∂–µ)\s/gi, '$1$2\u00A0');
        };

        // --- ICONS (SVG) ---
        const Icon = {
            Sun: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>),
            Moon: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>),
            ArrowLeft: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m15 18-6-6 6-6"/></svg>),
            ArrowRight: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>),
            Heart: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>),
            Coins: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18.06"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></svg>),
            Rocket: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09Z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2Z"/><path d="M9 12H4s.5-1 1-4c2 0 5 2.5 5 2.5Z"/><path d="M12 15v5s1-.5 4-1c0-2-2.5-5-2.5-5Z"/></svg>),
            Flower: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 16.5c0-4.5 4.5-4.5 4.5-4.5s0-4.5-4.5-4.5-4.5 4.5-4.5 4.5 4.5 4.5 4.5 4.5Z"/><path d="M12 7.5c-4.5 0-4.5 4.5-4.5 4.5s4.5 0 4.5-4.5 4.5 4.5 4.5 4.5-4.5 0-4.5-4.5Z"/></svg>),
            Infinity: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z"/></svg>),
            Flame: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.5 4 6.5 2 2 3 5.5 3 8.5a7 7 0 1 1-14 0c0-3 2.5-6 4.5-8.5.5.75 1 1.25 1 2.5a2.5 2.5 0 0 1-2.5 2.5Z"/></svg>),
            Gift: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5C11 3 12 8 12 8s1-5 4.5-5a2.5 2.5 0 0 1 0 5H12Z"/></svg>),
            Sparkles: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3 1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0-1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0-1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M3 5h4"/><path d="M21 17v4"/><path d="M19 19h4"/></svg>),
            RotateCcw: (p) => (<svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>)
        };

        const THEMES = {
            dark: { id: 'dark', bg: '#1C1B22', bgGradient: 'linear-gradient(135deg, #1C1B22 0%, #2A2530 50%, #15141A 100%)', text: '#EADDCD', accent: '#D4AF37', secondary: '#A3998D', cardBg: 'rgba(28, 27, 34, 0.7)', cardBorder: 'rgba(212, 175, 55, 0.2)', buttonText: '#1C1B22', mandalaBg: 'rgba(212, 175, 55, 0.05)' },
            light: { id: 'light', bg: '#F9F7F2', bgGradient: 'linear-gradient(135deg, #F9F7F2 0%, #F2EFE9 50%, #F9F7F2 100%)', text: '#2D2A32', accent: '#9E2A2B', secondary: '#7A7269', cardBg: 'rgba(255, 255, 255, 0.75)', cardBorder: 'rgba(158, 42, 43, 0.15)', buttonText: '#ffffff', mandalaBg: 'rgba(158, 42, 43, 0.05)' }
        };

        // --- 1. SPHERES CONFIGURATION ---
        const SPHERES = [
            { id: 'love', title: '–õ—é–±–æ–≤—å –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è', icon: Icon.Heart },
            { id: 'finance', title: '–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ', icon: Icon.Coins },
            { id: 'realization', title: '–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ—è–≤–ª–µ–Ω–Ω–æ—Å—Ç—å', icon: Icon.Rocket },
            { id: 'health', title: '–ó–¥–æ—Ä–æ–≤—å–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ', icon: Icon.Flower },
            { id: 'balance', title: '–ë–∞–ª–∞–Ω—Å –∏ –ª–∏—á–Ω–∞—è —Å–∏–ª–∞', icon: Icon.Infinity }
        ];

        // --- 2. MANDALAS DATABASE ---
        const STATES_DB = {
            dignity: { id: 'dignity', title: '–î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ', candle: '–ö–æ—Ä–æ–ª–µ–≤–∞', link: 'https://t.me/vselennai_balansa/4', img: 'dignity' },
            sensuality: { id: 'sensuality', title: '–ß—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å', candle: '–ß—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å', link: 'https://t.me/vselennai_balansa/5', img: 'sensuality' },
            balance: { id: 'balance', title: '–ë–∞–ª–∞–Ω—Å', candle: '–ë–∞–ª–∞–Ω—Å', link: 'https://t.me/vselennai_balansa/6', img: 'balance' },
            support: { id: 'support', title: '–û–ø–æ—Ä–∞', candle: '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å', link: 'https://t.me/vselennai_balansa/7', img: 'support' },
            relax: { id: 'relax', title: '–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ', candle: '–†–µ–ª–∞–∫—Å', link: 'https://t.me/vselennai_balansa/8', img: 'relax' },
            movement: { id: 'movement', title: '–î–≤–∏–∂–µ–Ω–∏–µ', candle: '–°–∞—Ñ–∞—Ä–∏', link: 'https://t.me/vselennai_balansa/9', img: 'movement' },
            freedom: { id: 'freedom', title: '–°–≤–æ–±–æ–¥–∞', candle: '–°–≤–æ–±–æ–¥–∞', link: 'https://t.me/vselennai_balansa/10', img: 'freedom' },
            clarity: { id: 'clarity', title: '–Ø—Å–Ω–æ—Å—Ç—å', candle: '–ù–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ', link: 'https://t.me/vselennai_balansa/11', img: 'clarity' },
            passion: { id: 'passion', title: '–°—Ç—Ä–∞—Å—Ç—å', candle: '–ù–æ—á—å –ª—é–±–≤–∏', link: 'https://t.me/vselennai_balansa/12', img: 'passion' }, 
            liberation: { id: 'liberation', title: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ', candle: '–°—Ç–æ–ø –ù–µ–≥–∞—Ç–∏–≤', link: 'https://t.me/vselennai_balansa/13', img: 'liberation' }
        };

        // --- 3. LOGIC ---
        const getMandalasForSphere = (sphereId) => {
            const common = ['dignity', 'sensuality', 'balance', 'support', 'relax', 'liberation', 'clarity'];
            if (sphereId === 'love') return [...common, 'passion']; 
            if (sphereId === 'balance') return [...common, 'passion', 'freedom']; 
            return [...common, 'movement']; 
        };

        // --- 4. TEXT MATRIX ---
        const CONTENT = {
            love: {
                dignity: "–ö–æ–≥–¥–∞ –≤ –ª—é–±–≤–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞, –∂–µ–Ω—â–∏–Ω–∞ —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è –Ω–∞ –º–µ–Ω—å—à–µ–µ, —á–µ–º —Ö–æ—á–µ—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.\n\n–û–Ω–∞ —Ç–µ—Ä–ø–∏—Ç, –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è, –±–æ–∏—Ç—Å—è –ø–æ—Ç–µ—Ä—è—Ç—å.\n\n–ò–∑ —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª–æ–∂–Ω–æ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —É–≤–∞–∂–µ–Ω–∏–µ –∏ –≤—ã–±–æ—Ä.",
                sensuality: "–ö–æ–≥–¥–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —á—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –ª—é–±–æ–≤—å —É—Ö–æ–¥–∏—Ç –≤ –≥–æ–ª–æ–≤—É.\n\n–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏, –Ω–æ —Ö–æ–ª–æ–¥–Ω—ã–º–∏.\n\n–¢–µ–ª–æ –≤—ã–∫–ª—é—á–µ–Ω–æ, –±–ª–∏–∑–æ—Å—Ç—å —Ç–µ—Ä—è–µ—Ç –∂–∏–≤–æ—Å—Ç—å –∏ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ.",
                balance: "–ö–æ–≥–¥–∞ –Ω–µ—Ç –±–∞–ª–∞–Ω—Å–∞, –∂–µ–Ω—â–∏–Ω–∞ –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ.\n\n–ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ã—Ç–µ—Å–Ω—è–µ—Ç –¥–æ–≤–µ—Ä–∏–µ, –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç—è–∂—ë–ª—ã–º–∏.\n\n–õ—é–±–æ–≤—å –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏.",
                support: "–ë–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–ø–æ—Ä—ã –ª—é–±–æ–≤—å —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–∑ —Å—Ç—Ä–∞—Ö–∞.\n\n–ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–µ–≤–æ–≥–∞, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–∞—á–µ–ª–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.\n\n–û—Ç–Ω–æ—à–µ–Ω–∏—è —Ç–µ—Ä—è—é—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.",
                relax: "–ö–æ–≥–¥–∞ –Ω–µ—Ç —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è, —Ç–µ–ª–æ –∑–∞–∫—Ä—ã—Ç–æ.\n\n–ë–ª–∏–∑–æ—Å—Ç—å –æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏–ª–∏ —Ä–∏—Å–∫.\n\n–ñ–µ–Ω—â–∏–Ω–µ —Å–ª–æ–∂–Ω–æ –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ–π –∏ –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–π.",
                liberation: "–ü—Ä–æ—à–ª—ã–µ –æ–±–∏–¥—ã –∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–µ–µ.\n\n–°–µ—Ä–¥—Ü–µ –∑–∞–Ω—è—Ç–æ –ø—Ä–æ—à–ª—ã–º, –∏ –Ω–æ–≤–æ–º—É —Å–ª–æ–∂–Ω–æ –ø—Ä–∏–π—Ç–∏.\n\n–õ—é–±–æ–≤—å –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç.",
                passion: "–ö–æ–≥–¥–∞ –Ω–µ—Ç –æ–≥–Ω—è, –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–º–∏.\n\n–ü—Ä–æ–ø–∞–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å, —Ç–µ–ø–ª–æ, –∂–∏–≤–æ–π –æ—Ç–∫–ª–∏–∫.\n\n–õ—é–±–æ–≤—å —Ç–µ—Ä—è–µ—Ç –≤–∫—É—Å.",
                clarity: "–ë–µ–∑ —è—Å–Ω–æ—Å—Ç–∏ –∂–µ–Ω—â–∏–Ω–∞ –ø—É—Ç–∞–µ—Ç—Å—è –≤ –æ–∂–∏–¥–∞–Ω–∏—è—Ö –∏ —Ñ–∞–Ω—Ç–∞–∑–∏—è—Ö.\n\n–¢–µ—Ä—è–µ—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç —Å —Ç–µ–ª–æ–º –∏ –∏–Ω—Ç—É–∏—Ü–∏–µ–π.\n\n–í—ã–±–æ—Ä –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–º."
            },
            finance: {
                dignity: "–ö–æ–≥–¥–∞ –≤ –¥–µ–Ω—å–≥–∞—Ö –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞, –∂–µ–Ω—â–∏–Ω–∞ –∑–∞–Ω–∏–∂–∞–µ—Ç —Å–≤–æ—é —Ü–µ–Ω–Ω–æ—Å—Ç—å.\n\n–ë–æ–∏—Ç—Å—è –ø—Ä–æ—Å–∏—Ç—å –±–æ–ª—å—à–µ, —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.\n\n–î–µ–Ω—å–≥–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ.",
                sensuality: "–ö–æ–≥–¥–∞ –Ω–µ—Ç —á—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –¥–µ–Ω—å–≥–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ.\n\n–ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –ø—Ä–∏–Ω–æ—Å–∏—Ç —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è, –±—ã—Å—Ç—Ä–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤—ã–≥–æ—Ä–∞–Ω–∏–µ.\n\n–ü–æ—Ç–æ–∫ –¥–µ–Ω–µ–≥ –ø–µ—Ä–µ—Å—ã—Ö–∞–µ—Ç.",
                balance: "–ì–∏–ø–µ—Ä–∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´—è —Å–∞–º–∞¬ª –∏—Å—Ç–æ—â–∞—é—Ç.\n\n–î–µ–Ω—å–≥–∏ –µ—Å—Ç—å, –Ω–æ —Ü–µ–Ω–æ–π —Å–µ–±—è.\n\n–†–∞–¥–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Ç–µ—Ä—è—é—Ç—Å—è.",
                support: "–ë–µ–∑ –æ–ø–æ—Ä—ã –º–Ω–æ–≥–æ —Å—É–µ—Ç—ã –∏ —Ö–∞–æ—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.\n\n–£—Å–∏–ª–∏—è –Ω–µ –¥–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n–§–∏–Ω–∞–Ω—Å—ã –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã.",
                relax: "–¢—Ä–µ–≤–æ–≥–∞ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –º–µ—à–∞—é—Ç –≤–∏–¥–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.\n\n–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –∏–∑ —Å—Ç—Ä–∞—Ö–∞.\n\n–ü–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏ –∏ –æ—Ç–∫–∞—Ç—ã.",
                liberation: "–ü—Ä–æ—à–ª—ã–µ –Ω–µ—É–¥–∞—á–∏ –∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –≤–ª–∏—è—Ç—å.\n\n–ñ–µ–Ω—â–∏–Ω–∞ –±–æ–∏—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –æ–ø—ã—Ç–∞.\n\n–†–æ—Å—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.",
                movement: "–ö–æ–≥–¥–∞ –Ω–µ—Ç –æ–≥–Ω—è, –Ω–µ—Ç –∏–º–ø—É–ª—å—Å–∞ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å.\n\n–ñ–µ–Ω—â–∏–Ω–∞ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –≤ –æ–∂–∏–¥–∞–Ω–∏–∏.\n\n–î–µ–Ω—å–≥–∏ –Ω–µ –¥–≤–∏–≥–∞—é—Ç—Å—è.",
                clarity: "–ë–µ–∑ —è—Å–Ω–æ—Å—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ —Ä–∞—Å–ø—ã–ª—è–µ—Ç—Å—è.\n\n–ú–Ω–æ–≥–æ –∑–∞–¥–∞—á, –º–∞–ª–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n–î–µ–Ω—å–≥–∏ —Ç–µ—Ä—è—é—Ç—Å—è –≤ —Ö–∞–æ—Å–µ."
            },
            realization: {
                dignity: "–ñ–µ–Ω—â–∏–Ω–∞ –±–æ–∏—Ç—Å—è –∑–∞—è–≤–ª—è—Ç—å –æ —Å–µ–±–µ.\n\n–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–µ—Ç –æ–ø—ã—Ç, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–µ–±—è —Å –¥—Ä—É–≥–∏–º–∏.\n\n–ü—Ä–æ—è–≤–ª–µ–Ω–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.",
                sensuality: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å.\n\n–ù–µ—Ç —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –∏ –≤–∫—É—Å–∞.\n\n–ü—Ä–æ–µ–∫—Ç—ã –≤—ã–≥–ª—è–¥—è—Ç ¬´–ø—É—Å—Ç—ã–º–∏¬ª.",
                balance: "–ü–µ—Ä–µ–∫–æ—Å –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏–µ–º –∏ –æ–∂–∏–¥–∞–Ω–∏–µ–º.\n\n–ñ–µ–Ω—â–∏–Ω–∞ –ª–∏–±–æ –≤—ã–≥–æ—Ä–∞–µ—Ç, –ª–∏–±–æ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç.\n\n–ü—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –¥–≤–∏–∂—É—Ç—Å—è.",
                support: "–ù–µ—Ç —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.\n\n–ò–¥–µ–∏ –Ω–µ –¥–æ–≤–æ–¥—è—Ç—Å—è –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Å—ã–ø–∞–µ—Ç—Å—è.",
                relax: "–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å.\n\n–°—Ç—Ä–∞—Ö –æ—à–∏–±–æ–∫ –º–µ—à–∞–µ—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –º–∏—Ä.\n\n–ü–æ—Ç–æ–∫ –∏–¥–µ–π –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.",
                liberation: "–ü—Ä–æ—à–ª—ã–π –æ–ø—ã—Ç –∏ —Å—Ç—Ä–∞—Ö–∏ –¥–µ—Ä–∂–∞—Ç.\n\n–ñ–µ–Ω—â–∏–Ω–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ–±–µ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å.\n\n–†–æ—Å—Ç –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è.",
                movement: "–ù–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞.\n\n–ü—Ä–æ—è–≤–ª–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–π.\n\n–ñ–∏–∑–Ω—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.",
                clarity: "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.\n\n–ù–µ—Ç —Ñ–æ–∫—É—Å–∞ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤.\n\n–ü—Ä–æ—è–≤–ª–µ–Ω–Ω–æ—Å—Ç—å —Ç–µ—Ä—è–µ—Ç —Å–∏–ª—É."
            },
            health: {
                dignity: "–ñ–µ–Ω—â–∏–Ω–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã —Ç–µ–ª–∞.\n\n–°—Ç–∞–≤–∏—Ç —Å–µ–±—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –º–µ—Å—Ç–æ.\n\n–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è.",
                sensuality: "–ù–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å —Ç–µ–ª–æ–º.\n\n–°–ª–æ–∂–Ω–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å, —á—Ç–æ –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —Å–µ–π—á–∞—Å.\n\n–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ.",
                balance: "–ö–∞—á–µ–ª–∏ –º–µ–∂–¥—É –ø–µ—Ä–µ–≥—Ä—É–∑–æ–º –∏ –æ—Ç–¥—ã—Ö–æ–º.\n\n–ù–µ—Ç —Ä–∏—Ç–º–∞.\n\n–¢–µ–ª–æ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.",
                support: "–ù–µ—Ç —Ä–µ–∂–∏–º–∞ –∏ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫.\n\n–¢–µ–ª–æ –Ω–µ —á—É–≤—Å—Ç–≤—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.\n\n–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ.",
                relax: "–•—Ä–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏ –∑–∞–∂–∏–º—ã.\n\n–ù–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞.\n\n–°–æ–Ω –∏ –æ—Ç–¥—ã—Ö –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç.",
                liberation: "–¢–µ–ª–æ —Ö—Ä–∞–Ω–∏—Ç –Ω–µ–ø—Ä–æ–∂–∏—Ç—ã–µ —ç–º–æ—Ü–∏–∏.\n\n–°–∏–º–ø—Ç–æ–º—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è.\n\n–õ—ë–≥–∫–æ—Å—Ç—å –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç.",
                movement: "–ù–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ç–æ–Ω—É—Å–∞.\n\n–í—è–ª–æ—Å—Ç—å –∏ –∞–ø–∞—Ç–∏—è.\n\n–¢–µ–ª–æ ¬´–≥–∞—Å–Ω–µ—Ç¬ª.",
                clarity: "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤ –∏ —Å–æ–≤–µ—Ç–æ–≤.\n\n–¢–µ–ª–æ —Ç–µ—Ä—è–µ—Ç—Å—è –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.\n\n–ù–µ—Ç –ø—Ä–æ—Å—Ç–æ—Ç—ã."
            },
            balance: {
                dignity: "–ñ–µ–Ω—â–∏–Ω–∞ —Ç–µ—Ä—è–µ—Ç —Å–µ–±—è –≤ —Ä–æ–ª—è—Ö.\n\n–ñ–∏–≤—ë—Ç –∏–∑ ¬´–Ω–∞–¥–æ¬ª.\n\n–°–∏–ª–∞ —Ä–∞—Å–ø–∞–¥–∞–µ—Ç—Å—è.",
                sensuality: "–¢–µ–ª–æ –≤—ã–∫–ª—é—á–µ–Ω–æ.\n\n–°–∏–ª–∞ —É—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Ç—Ä–æ–ª—å.\n\n–ù–µ—Ç –∂–∏–≤–æ—Å—Ç–∏.",
                balance: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–¥–µ—Ä–∂–∏–≤–∞–Ω–∏–µ.\n\n–ù–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è.\n\n–°–∏–ª–∞ –≤—ã–≥–æ—Ä–∞–µ—Ç.",
                support: "–û—â—É—â–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ø–∞–Ω–Ω–æ—Å—Ç–∏.\n\n–ù–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏.\n\n–°–ª–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –∫—É—Ä—Å.",
                relax: "–°–∏–ª–∞ —É—Ö–æ–¥–∏—Ç –≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ.\n\n–ù–µ—Ç –æ—â—É—â–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞.\n\n–¢–µ–ª–æ –≤ —Ä–µ–∂–∏–º–µ –≤—ã–∂–∏–≤–∞–Ω–∏—è.",
                liberation: "–°–∏–ª–∞ —Å–≤—è–∑–∞–Ω–∞ –ø—Ä–æ—à–ª—ã–º.\n\n–≠–Ω–µ—Ä–≥–∏—è —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ö–∞–º–∏.\n\n–ù–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ.",
                passion: "–ü–æ—Ç–µ—Ä—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –∂–∏–∑–Ω–∏.\n\n–°–∏–ª–∞ –±–µ–∑ —Ç–µ–ø–ª–∞.\n\n–ù–µ—Ç –æ—Ç–∫–ª–∏–∫–∞.",
                clarity: "–†–∞—Å—Ñ–æ–∫—É—Å –∏ —Å—É–µ—Ç–∞.\n\n–°–∏–ª–∞ —Ä–∞—Å–ø—ã–ª—è–µ—Ç—Å—è.\n\n–ù–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç–∏.",
                freedom: "–¢–≤–æ—è –ª–∏—á–Ω–∞—è —Å–∏–ª–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é. –≠—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–º–Ω–µ –º–æ–∂–Ω–æ¬ª: –±–æ–ª—å—à–µ, –ø–æ-–¥—Ä—É–≥–æ–º—É, –Ω–∞ –Ω–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ."
            }
        };

        // --- COMPONENTS ---

        const ProgressBar = ({ current, total, theme }) => {
            const progress = (current / total) * 100;
            return (
                <div className="absolute top-0 left-0 right-0 z-50">
                <div 
                    className="h-1 transition-all duration-700 ease-out"
                    style={{
                    width: `${progress}%`,
                    background: `linear-gradient(90deg, ${theme.accent}, ${theme.accentLight})`,
                    boxShadow: `0 0 15px ${theme.accent}80`
                    }}
                />
                </div>
            );
        };

        const BackButton = ({ onClick, theme }) => (
            <button
                onClick={onClick}
                className="absolute top-6 left-6 z-40 w-10 h-10 rounded-full glass-card flex items-center justify-center group border hover:scale-105"
                style={{ 
                background: theme.cardBg,
                borderColor: theme.cardBorder 
                }}
            >
                <Icon.ArrowLeft 
                className="w-5 h-5 transition-transform group-hover:-translate-x-1" 
                style={{ color: theme.text }} 
                />
            </button>
        );

        // --- SCREENS ---

        const ScreenIntro = ({ onSelectTheme }) => {
            return (
                <div className="w-full h-full flex flex-col items-center justify-center p-8 text-center relative bg-[#0f0e17] overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-[#1a1625] via-[#0f0e17] to-[#0a0a0f]"></div>
                
                {/* –ê–ù–ò–ú–ê–¶–ò–Ø –ò–°–ö–† */}
                <div className="absolute inset-0 overflow-hidden pointer-events-none z-0">
                     {[...Array(25)].map((_, i) => (
                        <div key={i} className="sparkle animate-rise" style={{ left: `${Math.random()*100}%`, width: `${1+Math.random()*2}px`, height: `${1+Math.random()*2}px`, animationDuration: `${6+Math.random()*10}s`, animationDelay: `${Math.random()*5}s` }} />
                     ))}
                </div>
                
                <div className="relative z-10 w-full flex flex-col items-center animate-fade-in-up">
                    
                    {/* –õ–û–ì–û–¢–ò–ü */}
                    <div className="mb-20 flex flex-col items-center gap-4">
                         <img 
                            src="./images/logo.png" 
                            alt="Fire of Life" 
                            className="logo-img drop-shadow-xl w-[220px]" 
                            onError={(e) => {
                                e.target.style.display = 'none';
                                e.target.nextSibling.style.display = 'block';
                            }}
                         />
                         <h1 style={{display:'none'}} className="elegant text-4xl text-[#EADDCD] tracking-[0.3em] font-light">Fire of Life</h1>
                         <div className="h-px w-28 bg-[#D4AF37]/40"></div>
                    </div>
                    
                    {/* –ê–ú–£–õ–ï–¢–´ */}
                    <div className="flex justify-center items-center gap-10 w-full mb-16">
                        
                        {/* –ê–º—É–ª–µ—Ç –°–æ–ª–Ω—Ü–∞ */}
                        <button onClick={() => onSelectTheme('light')} className="group relative w-32 h-32 rounded-full focus:outline-none flex items-center justify-center">
                            <div className="absolute inset-0 rounded-full bg-[#fcd34d] opacity-20 group-hover:opacity-40 blur-2xl transition-opacity duration-700"></div>
                            <div className="absolute inset-1 rounded-full border border-[#D4AF37]/40 border-dashed animate-spin-slow"></div>
                            
                            <div className="absolute inset-4 rounded-full bg-gradient-to-br from-[#fffbeb] via-[#fef3c7] to-[#fcd34d] shadow-[0_0_30px_rgba(251,191,36,0.3)] flex items-center justify-center overflow-hidden transition-transform duration-500 group-hover:scale-105">
                                <div className="absolute inset-0 bg-gradient-to-tr from-[#fbbf24]/50 to-transparent opacity-60"></div>
                                <Icon.Sun className="relative z-10 w-10 h-10 text-[#b45309] animate-spin-slow" />
                            </div>
                        </button>

                        {/* –ê–º—É–ª–µ—Ç –õ—É–Ω—ã */}
                        <button onClick={() => onSelectTheme('dark')} className="group relative w-32 h-32 rounded-full focus:outline-none flex items-center justify-center">
                            <div className="absolute inset-0 rounded-full bg-[#818cf8] opacity-10 group-hover:opacity-30 blur-2xl transition-opacity duration-700"></div>
                            <div className="absolute inset-1 rounded-full border border-[#c7d2fe]/30 border-dotted animate-spin-reverse"></div>
                            
                            <div className="absolute inset-4 rounded-full bg-gradient-to-br from-[#312e81] to-[#1e1b4b] shadow-[0_0_30px_rgba(129,140,248,0.2)] flex items-center justify-center overflow-hidden transition-transform duration-500 group-hover:scale-105">
                                <div className="absolute inset-0 bg-gradient-to-b from-black/40 to-transparent opacity-80"></div>
                                <Icon.Moon className="relative z-10 w-9 h-9 text-[#c7d2fe] animate-breathe" />
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        );
        };

        const ScreenSphere = ({ onSelect, theme }) => (
            <div className="h-full flex flex-col pt-16 px-8 relative">
                {/* –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∂–∏–≤–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ */}
                <div className="absolute inset-0 overflow-hidden pointer-events-none z-0">
                    <div className="absolute top-[-10%] left-[-10%] w-64 h-64 rounded-full mix-blend-screen filter blur-[80px] opacity-20 animate-breathe" style={{background: theme.accent, animationDuration: '8s'}}></div>
                    <div className="absolute bottom-[-10%] right-[-10%] w-64 h-64 rounded-full mix-blend-screen filter blur-[80px] opacity-10 animate-breathe" style={{background: theme.accent, animationDuration: '12s'}}></div>
                    {[...Array(15)].map((_, i) => (
                        <div key={i} className="sparkle animate-rise" style={{ left: `${Math.random()*100}%`, width: `${1+Math.random()*2}px`, height: `${1+Math.random()*2}px`, animationDuration: `${6+Math.random()*10}s`, animationDelay: `${Math.random()*5}s` }} />
                     ))}
                </div>

                <div className="mb-10 shrink-0 text-center relative z-10 animate-fade-in-up">
                    <h2 style={{color: theme.text}} className="text-3xl leading-tight serif font-medium text-balance">–í—ã–±–µ—Ä–∏ —Å—Ñ–µ—Ä—É –∂–∏–∑–Ω–∏,<br/>–≤ –∫–æ—Ç–æ—Ä–æ–π —Ç—ã —Ö–æ—á–µ—à—å –¥–≤–∏–∂–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏–π</h2>
                    <p style={{color: theme.secondary}} className="text-sm mt-4 font-light text-pretty">–ù–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π. –ü—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏ —Ç–æ, —á—Ç–æ —Å–µ–π—á–∞—Å –≤–∞–∂–Ω–æ.</p>
                </div>
                
                <div className="flex-1 overflow-y-auto scrollbar-hide pb-12 relative z-10">
                    <div className="flex flex-col gap-4">
                        {SPHERES.map((sphere, i) => (
                            <button 
                                key={sphere.id} 
                                onClick={() => onSelect(sphere)}
                                className="glass-card w-full p-6 rounded-2xl border flex items-center gap-6 text-left group animate-fade-in-up"
                                style={{ 
                                    background: theme.cardBg, 
                                    borderColor: theme.cardBorder,
                                    animationDelay: `${i * 0.1}s`,
                                    animationFillMode: 'both'
                                }}
                            >
                                <div className="w-12 h-12 rounded-full flex items-center justify-center shrink-0 transition-all group-hover:scale-110 shadow-sm" style={{color: theme.accent, background: theme.mandalaBg}}>
                                    <sphere.icon className="w-6 h-6" />
                                </div>
                                <span style={{color: theme.text}} className="text-lg serif font-medium flex-1 leading-tight">{sphere.title}</span>
                                <Icon.ArrowRight className="w-4 h-4 opacity-30 group-hover:translate-x-1 transition-transform" style={{color: theme.text}} />
                            </button>
                        ))}
                    </div>
                </div>
            </div>
        );

        const ScreenMandala = ({ sphereId, onSelect, onBack, theme }) => {
            const mandalasForSphere = getMandalasForSphere(sphereId);
            const displayMandalas = mandalasForSphere.map(id => STATES_DB[id]).filter(Boolean);
            
            const glowClass = theme.id === 'light' ? 'mandala-glow-light' : 'mandala-glow-dark';

            return (
                <div className="h-full flex flex-col pt-16 px-8 relative animate-fade-in-up">
                    <button onClick={onBack} className="absolute top-6 left-6 p-2 rounded-full border transition-all hover:scale-110 active:scale-95 z-20" style={{borderColor: theme.cardBorder, color: theme.text, background: theme.cardBg}}>
                        <Icon.ArrowLeft className="w-5 h-5" />
                    </button>
                    
                    <div className="mb-8 shrink-0 text-center">
                        <h2 style={{color: theme.text}} className="text-3xl leading-tight serif font-medium mb-3 text-balance">–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –º–∞–Ω–¥–∞–ª—ã –∏ –≤—ã–±–µ—Ä–∏ —Ç—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è</h2>
                        <p style={{color: theme.secondary}} className="text-sm font-light text-pretty">–ù–µ –¥—É–º–∞–π. –í—ã–±–∏—Ä–∞–π —Ç–µ–ª–æ–º.</p>
                    </div>
                    <div className="flex-1 overflow-y-auto scrollbar-hide pb-20 -mx-4 px-4">
                        <div className="grid grid-cols-2 gap-6">
                            {displayMandalas.map((m, i) => {
                                const imgBaseName = m.img || m.id;
                                return (
                                    <div 
                                        key={m.id} 
                                        onClick={() => onSelect(m)} 
                                        className={`mandala-container group shadow-xl ${glowClass} animate-fade-in-up`} 
                                        style={{ 
                                            animationDelay: `${i * 0.05}s`, 
                                            background: theme.id === 'dark' ? '#121217' : '#fff',
                                            animationFillMode: 'both'
                                        }}
                                    >
                                        <img 
                                            src={`./images/${imgBaseName}_${theme.id}.png`} 
                                            alt={m.title} 
                                            className="w-full h-full object-cover transition-transform duration-[8s] group-hover:scale-115" 
                                            onError={(e) => { 
                                                if (!e.target.src.includes('dignity')) e.target.src = `./images/dignity_${theme.id}.png`;
                                                else e.target.style.display='none'; 
                                            }} 
                                        />
                                        <div className="absolute inset-0 flex items-center justify-center -z-10">
                                           <Icon.Sparkles className="w-8 h-8 opacity-20" style={{color: theme.accent}}/>
                                        </div>
                                    </div>
                                )
                            })}
                        </div>
                    </div>
                </div>
            );
        };

        const ScreenSync = ({ onComplete, theme }) => {
            const [text, setText] = useState("–°–¥–µ–ª–∞–π –º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–¥–æ—Ö –∏ –≤—ã–¥–æ—Ö");
            useEffect(() => {
                const timer = setTimeout(onComplete, 6000);
                const interval = setInterval(() => setText(t => t.includes("–≤–¥–æ—Ö") ? "–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –Ω–µ–º–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª–∏—Ç—å—Å—è" : "–°–¥–µ–ª–∞–π –º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–¥–æ—Ö –∏ –≤—ã–¥–æ—Ö"), 3000);
                return () => { clearTimeout(timer); clearInterval(interval); };
            }, []);
            return (
                <div className="h-full flex flex-col items-center justify-center p-8 text-center animate-fade-in-up">
                    <div className="relative w-64 h-64 mb-16 flex items-center justify-center">
                        <div className="absolute inset-0 rounded-full opacity-20 animate-breathe" style={{background: theme.accent, filter: 'blur(40px)'}}></div>
                        <div className="absolute inset-10 rounded-full opacity-30 animate-breathe" style={{background: theme.accent, filter: 'blur(20px)', animationDelay: '0.5s'}}></div>
                        <Icon.Heart className="w-24 h-24 animate-breathe" style={{color: theme.text, fill: `${theme.accent}30`}} />
                    </div>
                    <h2 style={{color: theme.text}} className="text-2xl serif mb-3 tracking-widest uppercase font-medium text-balance">{text}</h2>
                    <p style={{color: theme.secondary}} className="text-sm font-light opacity-60 text-pretty">–ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç.</p>
                </div>
            );
        };

        const ScreenResult = ({ sphere, mandala, theme, onRestart }) => {
            const description = CONTENT[sphere.id]?.[mandala.id] || "–¢–µ–∫—Å—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è...";
            
            const practiceMsg = encodeURIComponent(`–ö—Å–µ–Ω–∏—è, –ø—Ä–∏–≤–µ—Ç ü§ç\n–Ø –ø—Ä–æ—à–ª–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É Fire of Life.\n–ú–æ—è —Å—Ñ–µ—Ä–∞: ${sphere.title}\n–ú–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ: ${mandala.title}\n–•–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É –¥–ª—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.`);
            const practiceUrl = `https://t.me/kseniia_burakova?text=${practiceMsg}`;
            
            const buyUrl = mandala.link;
            const imgBaseName = mandala.img || mandala.id;

            return (
                <div className="h-full w-full overflow-y-auto scrollbar-hide relative">
                    <div className="flex flex-col items-center py-16 px-8 min-h-full text-center">
                        
                        <div className="animate-fade-in-up w-full text-center" style={{animationDelay: '0.1s', animationFillMode: 'both'}}>
                            <p style={{color: theme.secondary}} className="text-[10px] tracking-[0.3em] uppercase mb-4 opacity-70">–¢–≤–æ—ë –∫–ª—é—á–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ–π—á–∞—Å</p>
                            <h2 style={{color: theme.accent}} className="text-5xl serif font-medium mb-12 drop-shadow-md text-balance">{mandala.title}</h2>
                        </div>
                        
                        {/* RESULT MANDALA */}
                        <div 
                            className="relative w-72 h-72 mb-12 shrink-0 animate-zoom shadow-2xl rounded-full border-4 overflow-hidden animate-fade-in-up mx-auto" 
                            style={{borderColor: `${theme.accent}30`, background: '#000', animationDelay: '0.2s', animationFillMode: 'both'}}
                        >
                             <img 
                                src={`./images/${imgBaseName}_${theme.id}.png`} 
                                className="w-full h-full object-cover rounded-full" 
                                onError={(e) => { 
                                    if(!e.target.src.includes('dignity')) e.target.src = `./images/dignity_${theme.id}.png`; 
                                }} 
                             />
                             <div className="absolute inset-0 rounded-full shadow-[0_0_70px_rgba(212,175,55,0.25)] animate-pulse pointer-events-none"></div>
                        </div>

                        {/* DESCRIPTION BLOCK */}
                        <div className="w-full max-w-md rounded-3xl p-8 mb-8 shadow-xl border text-center animate-fade-in-up" style={{background: theme.cardBg, borderColor: theme.cardBorder, animationDelay: '0.3s', animationFillMode: 'both'}}>
                            <p style={{color: theme.text}} className="text-base leading-relaxed opacity-90 mb-8 font-bold text-pretty">
                                {formatText(`–¢—ã –º–æ–∂–µ—à—å –º–Ω–æ–≥–æ –¥–µ–ª–∞—Ç—å –≤ —Å—Ñ–µ—Ä–µ ¬´${sphere.title.toLowerCase()}¬ª, –Ω–æ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –ø–∞–∑–ª –Ω–µ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è.`)}
                            </p>
                            
                            <div className="text-base leading-relaxed font-light opacity-90 space-y-5 text-center text-pretty" style={{color: theme.text}}>
                                {description.split('\n\n').map((line, i) => (
                                    <p key={i}>{formatText(line)}</p>
                                ))}
                            </div>
                        </div>

                        {/* PRODUCT BLOCK */}
                        <div className="w-full max-w-md rounded-3xl p-8 mb-10 border flex flex-col items-center gap-6 text-center animate-fade-in-up" style={{background: theme.id==='light' ? '#fff' : 'rgba(255,255,255,0.03)', borderColor: theme.cardBorder, animationDelay: '0.4s', animationFillMode: 'both'}}>
                            <p style={{color: theme.text}} className="text-sm font-light leading-relaxed opacity-80 text-pretty">
                                {formatText("–ê—Ä–æ–º–∞—Ç –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç—É —á–∞—Å—Ç—å –Ω–∞—Å, –∫–æ—Ç–æ—Ä–∞—è –º–∏–Ω—É–µ—Ç –ª–æ–≥–∏–∫—É –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è. –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–¥–∏—Ç—å —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –∑–∞—Ç–µ–º –∑–∞–∫—Ä–µ–ø–∏—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥–ª–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –Ω–µ–≥–æ —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.")}
                            </p>
                            
                            <div className="flex flex-col items-center gap-3 mt-2">
                                <div className="w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 shadow-lg relative" style={{background: `${theme.accent}15`}}>
                                    <div className="absolute inset-0 rounded-2xl animate-pulse-glow" style={{background: theme.accent, filter: 'blur(12px)'}}></div>
                                    <Icon.Flame className="w-8 h-8 relative z-10" style={{color: theme.accent}} />
                                </div>
                                <div>
                                    <p style={{color: theme.secondary}} className="text-[10px] uppercase tracking-widest mb-1 opacity-70">–ê—Ä–æ–º–∞—Ç-–ø–æ–º–æ—â–Ω–∏–∫</p>
                                    <h4 style={{color: theme.text}} className="serif text-xl font-bold">–°–≤–µ—á–∞ ¬´{mandala.candle}¬ª</h4>
                                </div>
                            </div>
                            
                            <a href={buyUrl} target="_blank" className="btn-primary mt-4 w-full py-4 rounded-2xl text-xs font-bold uppercase tracking-widest transition-all shadow-lg hover:-translate-y-1 flex items-center justify-center gap-3" style={{background: theme.accent, color: theme.buttonText}}>
                                <span>–ü—Ä–æ–±—É–¥–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ</span>
                                <Icon.ArrowRight className="w-4 h-4" />
                            </a>
                        </div>

                        {/* GIFT BLOCK */}
                        <div className="w-full max-w-md rounded-3xl p-8 border-2 mb-12 flex flex-col items-center text-center animate-fade-in-up" style={{borderColor: theme.accent, background: `${theme.accent}08`, animationDelay: '0.5s', animationFillMode: 'both'}}>
                            <div className="flex items-center justify-center gap-3 mb-4">
                                <div className="relative w-16 h-16 flex items-center justify-center">
                                    <div className="absolute inset-0 rounded-full animate-pulse-glow" style={{background: theme.accent, filter: 'blur(12px)'}}></div>
                                    <Icon.Gift className="w-8 h-8 relative z-10" style={{color: theme.accent}} />
                                </div>
                            </div>
                            <h4 style={{color: theme.text}} className="text-xl serif font-bold uppercase tracking-wider mb-2">–ú–æ–π –ø–æ–¥–∞—Ä–æ–∫ —Ç–µ–±–µ</h4>
                            
                            <a href={practiceUrl} target="_blank" className="btn-primary mt-4 block w-full py-4 rounded-2xl text-center text-xs font-bold uppercase tracking-widest shadow-2xl transition-all hover:-translate-y-1 leading-relaxed" style={{background: theme.accent, color: theme.buttonText}}>
                                –ü–æ–ª—É—á–∏—Ç—å –≥–ª—É–±–æ–∫—É—é<br/>—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –∏&nbsp;–ø—Ä–∞–∫—Ç–∏–∫—É
                            </a>
                        </div>
                        
                        <button onClick={onRestart} style={{color: theme.text}} className="pb-24 opacity-40 hover:opacity-100 transition-opacity flex items-center justify-center gap-3 text-[10px] uppercase tracking-[0.4em] animate-fade-in-up w-full" style={{animationDelay: '0.6s', animationFillMode: 'both'}}>
                            <Icon.RotateCcw className="w-4 h-4" /> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                        </button>
                    </div>
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [step, setStep] = useState('intro');
            const [theme, setTheme] = useState(THEMES.dark);
            const [data, setData] = useState({ sphere: null, mandala: null });

            const handleTheme = (mode) => { setTheme(THEMES[mode]); setStep('sphere'); };
            const handleSphere = (s) => { setData(d => ({...d, sphere: s})); setStep('mandala'); };
            const handleMandala = (m) => { setData(d => ({...d, mandala: m})); setStep('sync'); };
            const handleRestart = () => { setStep('intro'); setData({ sphere: null, mandala: null }); };

            return (
                <div className="fixed inset-0 w-full h-full transition-colors duration-700 overflow-hidden" style={{background: theme.bgGradient}}>
                    <div className="w-full h-full max-w-md mx-auto relative shadow-2xl overflow-hidden" style={{background: theme.bg}}>
                        {step !== 'intro' && (
                            <div className="absolute top-0 left-0 h-1 z-50 transition-all duration-700" 
                                 style={{background: theme.accent, width: step==='sphere'?'33%':step==='mandala'?'66%':'100%'}}></div>
                        )}
                        {step === 'intro' && <ScreenIntro onSelectTheme={handleTheme} />}
                        {step === 'sphere' && <ScreenSphere onSelect={handleSphere} theme={theme} />}
                        {step === 'mandala' && <ScreenMandala sphereId={data.sphere?.id} onSelect={handleMandala} onBack={() => setStep('sphere')} theme={theme} />}
                        {step === 'sync' && <ScreenSync onComplete={() => setStep('result')} theme={theme} />}
                        {step === 'result' && <ScreenResult sphere={data.sphere} mandala={data.mandala} theme={theme} onRestart={handleRestart} />}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>